
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>SoundFont2 Structure Â· Soundfont2</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../api/" />
    
    
    <link rel="prev" href="basic-usage.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
  
  

  

  
  
  

<li class="chapter " data-level="1.1" data-path="../">
  
  <a href="../">
    
                    
                    Introduction
            
    </a>
    

    
</li>

<li class="chapter " data-level="1.2" data-path="./">
  
  <a href="./">
    
                    
                    Getting Started
            
    </a>
    

    
    <ul class="articles">
      

<li class="chapter " data-level="1.2.1" data-path="installation.html">
  
  <a href="installation.html">
    
                    
                    Installation
            
    </a>
    

    
</li>

<li class="chapter " data-level="1.2.2" data-path="basic-usage.html">
  
  <a href="basic-usage.html">
    
                    
                    Basic Usage
            
    </a>
    

    
</li>

<li class="chapter active" data-level="1.2.3" data-path="soundfont2-structure.html">
  
  <a href="soundfont2-structure.html">
    
                    
                    SoundFont2 Structure
            
    </a>
    

    
</li>


    </ul>
    
</li>

<li class="chapter " data-level="1.3" data-path="../api/">
  
  <a href="../api/">
    
                    
                    API
            
    </a>
    

    
    <ul class="articles">
      

<li class="chapter " data-level="1.3.1" data-path="../api/soundfont2/">
  
  <a href="../api/soundfont2/">
    
                    
                    SoundFont2
            
    </a>
    

    
    <ul class="articles">
      

<li class="chapter " data-level="1.3.1.1" data-path="../api/soundfont2/meta-data.html">
  
  <a href="../api/soundfont2/meta-data.html">
    
                    
                    MetaData
            
    </a>
    

    
</li>

<li class="chapter " data-level="1.3.1.2" data-path="../api/soundfont2/sample/">
  
  <a href="../api/soundfont2/sample/">
    
                    
                    Sample
            
    </a>
    

    
    <ul class="articles">
      

<li class="chapter " data-level="1.3.1.2.1" data-path="../api/soundfont2/sample/sample-header.html">
  
  <a href="../api/soundfont2/sample/sample-header.html">
    
                    
                    SampleHeader
            
    </a>
    

    
</li>

<li class="chapter " data-level="1.3.1.2.2" data-path="../api/soundfont2/sample/sample-type.html">
  
  <a href="../api/soundfont2/sample/sample-type.html">
    
                    
                    SampleType
            
    </a>
    

    
</li>


    </ul>
    
</li>

<li class="chapter " data-level="1.3.1.3" data-path="../api/soundfont2/preset-data.html">
  
  <a href="../api/soundfont2/preset-data.html">
    
                    
                    PresetData
            
    </a>
    

    
</li>

<li class="chapter " data-level="1.3.1.4" data-path="../api/soundfont2/preset.html">
  
  <a href="../api/soundfont2/preset.html">
    
                    
                    Preset
            
    </a>
    

    
</li>

<li class="chapter " data-level="1.3.1.5" data-path="../api/soundfont2/instrument.html">
  
  <a href="../api/soundfont2/instrument.html">
    
                    
                    Instrument
            
    </a>
    

    
</li>

<li class="chapter " data-level="1.3.1.6" data-path="../api/soundfont2/bank.html">
  
  <a href="../api/soundfont2/bank.html">
    
                    
                    Bank
            
    </a>
    

    
</li>

<li class="chapter " data-level="1.3.1.7" data-path="../api/soundfont2/key.html">
  
  <a href="../api/soundfont2/key.html">
    
                    
                    Key
            
    </a>
    

    
</li>


    </ul>
    
</li>

<li class="chapter " data-level="1.3.2" data-path="../api/generator/">
  
  <a href="../api/generator/">
    
                    
                    Generator
            
    </a>
    

    
    <ul class="articles">
      

<li class="chapter " data-level="1.3.2.1" data-path="../api/generator/generator-type.html">
  
  <a href="../api/generator/generator-type.html">
    
                    
                    GeneratorType
            
    </a>
    

    
</li>


    </ul>
    
</li>

<li class="chapter " data-level="1.3.3" data-path="../api/modulator.html">
  
  <a href="../api/modulator.html">
    
                    
                    Modulator
            
    </a>
    

    
</li>


    </ul>
    
</li>

<li class="chapter " data-level="1.4" data-path="../development.html">
  
  <a href="../development.html">
    
                    
                    Development
            
    </a>
    

    
</li>

<li class="chapter " data-level="1.5" data-path="../todo.html">
  
  <a href="../todo.html">
    
                    
                    Todo
            
    </a>
    

    
</li>


  

  <li class="divider"></li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
  
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="soundfont2-structure">SoundFont2 Structure</h1>
<p>This section explains a bit about the general SoundFont2 structure. It&apos;s not necessarily required to know this information in order to use the library, but it may make it easier to understand how the library and SoundFonts work.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#general-structure">General Structure</a></li>
<li><a href="#riff-chunks">RIFF Chunks</a><ul>
<li><a href="#info-chunk"><code>INFO</code> Chunk</a></li>
<li><a href="#smpl-chunk"><code>smpl</code> Chunk</a></li>
<li><a href="#pdta-chunk"><code>pdta</code> Chunk</a><ul>
<li><a href="#preset-data">Preset Data</a></li>
<li><a href="#instrument-data">Instrument Data</a></li>
<li><a href="#sample-data">Sample Data</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#presets">Presets</a></li>
<li><a href="#instruments">Instruments</a></li>
</ul>
<h2 id="general-structure">General Structure</h2>
<p>A SoundFont has one or more presets, which can normally be selected with the <code>MIDI Program Change</code> command. The presets have one or more preset zones, that have one instrument. The instruments have instrument zones and these have one sample each.</p>
<p>Multiple preset zones can refer to the same instrument and multiple instrument zones can refer to the same samples.</p>
<p><img src="https://i.imgur.com/c2Gud3u.png" alt="General Structure"></p>
<h2 id="riff-chunks">RIFF Chunks</h2>
<p>A SoundFont2 file is a RIFF (Resource Interchange File Format) file, which contains multiple chunks. Those chunks are identified by a <a href="https://en.wikipedia.org/wiki/FourCC" target="_blank">FourCC (four-character code)</a>. If an identifier is not for characters long, it will be padded by spaces. For example, &quot;foo&quot; would be read as &quot;foo &quot;.</p>
<p>Every SoundFont2 file should have at least three top-level sub-chunks: an <code>INFO</code> chunk containing metadata, a <code>sdta</code> chunk containing Wave Audio (WAV) samples and a <code>pdta</code> header containing the preset, instrument and sample headers.</p>
<p>All the raw (unparsed) data is available in the <code>SoundFont2</code> class, as <code>metaData</code>, <code>sampleData</code> and <code>presetData</code>.</p>
<p><img src="https://i.imgur.com/BL8FvcC.png" alt="SoundFont2 RIFF chunks"></p>
<h3 id="info-chunk"><code>INFO</code> Chunk</h3>
<p>The <code>INFO</code> chunk contains at least the following sub-chunks.</p>
<ul>
<li><p><code>ifil</code> - The SoundFont specification version.</p>
<p>Available as <code>metaData.version</code>.</p>
</li>
<li><p><code>isng</code> - The sound engine for which the SoundFont was optimized.</p>
<p>Available as <code>metaData.soundEngine</code>.</p>
</li>
<li><p><code>INAM</code> - The name of the SoundFont.</p>
<p>Available as <code>metaData.name</code>.</p>
</li>
</ul>
<p>The other sub-chunks are <strong>optional</strong>.</p>
<ul>
<li><p><code>irom</code> - A sound data ROM to which any ROM samples refer.</p>
<p>Available as <code>metaData.rom</code>.</p>
</li>
<li><p><code>iver</code> - A sound data ROM revision to which any ROM samples refer.</p>
<p>Available as <code>metaData.romVersion</code>.</p>
</li>
<li><p><code>ICRD</code> - The creation date of the SoundFont, conventionally in the &apos;Month Day, Year&apos; format.</p>
<p>Available as <code>metaData.creationDate</code>.</p>
</li>
<li><p><code>IENG</code> - The author or authors of the SoundFont.</p>
<p>Available as <code>metaData.author</code>.</p>
</li>
<li><p><code>IPDR</code> - The product for which the SoundFont is intended.</p>
<p>Available as <code>metaData.product</code>.</p>
</li>
<li><p><code>ICOP</code> - Copyright assertion string associated with the SoundFont.</p>
<p>Available as <code>metaData.copyright</code>.</p>
</li>
<li><p><code>ICMT</code> - Any comments associated with the SoundFont.</p>
<p>Available as <code>metaData.comments</code>.</p>
</li>
<li><p><code>ISFT</code> - The tool used to create the SoundFont.</p>
<p>Available as <code>metaData.createdBy</code>.</p>
</li>
</ul>
<h3 id="sdta-chunk"><code>sdta</code> Chunk</h3>
<p>The sample chunk has one or two sub-chunks.</p>
<ul>
<li><p><code>smpl</code> - The 16-bit WAV sample data.</p>
<p>Available as <code>sampleData</code>.</p>
</li>
<li><p><code>sm24</code> - The 8-bit WAV sample data, in addition to the 16-bit data.</p>
<p>Currently not available in the API.</p>
</li>
</ul>
<p>The <code>sdta</code> and <code>sm24</code> sub-chunks can be combined to get 24-bit WAV sample data, but the library currently does not support this yet.</p>
<h3 id="pdta-chunk"><code>pdta</code> Chunk</h3>
<p>The <code>pdta</code> sub-chunk contains data for presets, instruments and samples in the SoundFont. There are four preset and four instrument chunks, which form the instruments and presets. There is just one sample header chunk, that forms the samples together with the data from the <code>sdta</code> chunk.</p>
<h4 id="preset-data">Preset Data</h4>
<p>The <code>pdta</code> has four sub-chunks that form the preset data.</p>
<ul>
<li><p><code>phdr</code> - The preset headers.</p>
<p>Available as <code>presetData.presetHeaders</code>.</p>
</li>
<li><p><code>pbag</code> - The preset zone indices.</p>
<p>Available as <code>presetData.presetZones</code>.</p>
</li>
<li><p><code>pmod</code> - The preset modulators.</p>
<p>Available as <code>presetData.presetModulators</code></p>
</li>
<li><p><code>pgen</code> - The preset generators.</p>
<p>Available as <code>presetData.presetGenerators</code></p>
</li>
</ul>
<h4 id="instrument-data">Instrument Data</h4>
<p>The <code>pdta</code> has four sub-chunks that form the instrument data.</p>
<ul>
<li><p><code>inst</code> - The instrument headers.</p>
<p>Available as <code>presetData.instrumentHeaders</code>.</p>
</li>
<li><p><code>ibag</code> - The instrument zone indices.</p>
<p>Available as <code>presetData.instrumentZones</code>.</p>
</li>
<li><p><code>imod</code> - The instrument modulators.</p>
<p>Available as <code>presetData.instrumentModulators</code></p>
</li>
<li><p><code>igen</code> - The instrument generators.</p>
<p>Available as <code>presetData.instrumentGenerators</code></p>
</li>
</ul>
<h4 id="sample-data">Sample Data</h4>
<p>The <code>pdta</code> has one sub-chunk with the sample header data.</p>
<ul>
<li><p><code>shdr</code> - The sample headers.</p>
<p>Available as <code>presetData.sampleHeaders</code></p>
</li>
</ul>
<h2 id="presets">Presets</h2>
<p>TODO</p>
<h2 id="instruments">Instruments</h2>
<p>TODO</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="basic-usage.html" class="navigation navigation-prev " aria-label="Previous page: Basic Usage">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../api/" class="navigation navigation-next " aria-label="Next page: API">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"SoundFont2 Structure","level":"1.2.3","depth":2,"next":{"title":"API","level":"1.3","depth":1,"path":"api/README.md","ref":"api/README.md","articles":[{"title":"SoundFont2","level":"1.3.1","depth":2,"path":"api/soundfont2/README.md","ref":"api/soundfont2/README.md","articles":[{"title":"MetaData","level":"1.3.1.1","depth":3,"path":"api/soundfont2/meta-data.md","ref":"api/soundfont2/meta-data.md","articles":[]},{"title":"Sample","level":"1.3.1.2","depth":3,"path":"api/soundfont2/sample/README.md","ref":"api/soundfont2/sample/README.md","articles":[{"title":"SampleHeader","level":"1.3.1.2.1","depth":4,"path":"api/soundfont2/sample/sample-header.md","ref":"api/soundfont2/sample/sample-header.md","articles":[]},{"title":"SampleType","level":"1.3.1.2.2","depth":4,"path":"api/soundfont2/sample/sample-type.md","ref":"api/soundfont2/sample/sample-type.md","articles":[]}]},{"title":"PresetData","level":"1.3.1.3","depth":3,"path":"api/soundfont2/preset-data.md","ref":"api/soundfont2/preset-data.md","articles":[]},{"title":"Preset","level":"1.3.1.4","depth":3,"path":"api/soundfont2/preset.md","ref":"api/soundfont2/preset.md","articles":[]},{"title":"Instrument","level":"1.3.1.5","depth":3,"path":"api/soundfont2/instrument.md","ref":"api/soundfont2/instrument.md","articles":[]},{"title":"Bank","level":"1.3.1.6","depth":3,"path":"api/soundfont2/bank.md","ref":"api/soundfont2/bank.md","articles":[]},{"title":"Key","level":"1.3.1.7","depth":3,"path":"api/soundfont2/key.md","ref":"api/soundfont2/key.md","articles":[]}]},{"title":"Generator","level":"1.3.2","depth":2,"path":"api/generator/README.md","ref":"api/generator/README.md","articles":[{"title":"GeneratorType","level":"1.3.2.1","depth":3,"path":"api/generator/generator-type.md","ref":"api/generator/generator-type.md","articles":[]}]},{"title":"Modulator","level":"1.3.3","depth":2,"path":"api/modulator.md","ref":"api/modulator.md","articles":[]}]},"previous":{"title":"Basic Usage","level":"1.2.2","depth":2,"path":"getting-started/basic-usage.md","ref":"getting-started/basic-usage.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Soundfont2","gitbook":"*","description":"A SoundFont2 parser for Node.js and web browsers"},"file":{"path":"getting-started/soundfont2-structure.md","mtime":"2019-01-20T14:16:29.705Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-01-20T21:46:18.038Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

